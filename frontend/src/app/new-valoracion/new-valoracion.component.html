<div class="mx-auto mt-6 max-w-3xl rounded-lg bg-white p-6 shadow-md">
  <form [formGroup]="valoracionForm" (ngSubmit)="enviarValoracion()">
    <div class="mb-6">
      <label for="nota" class="block text-lg font-medium text-gray-700">
        Valoración
      </label>
      <div class="mt-2 flex items-center justify-center space-x-2">
        <ng-container *ngFor="let i of [1, 2, 3, 4, 5]">
          <button
            type="button"
            (click)="setNota(i)"
            class="text-2xl transition-transform duration-200"
            [ngClass]="{
              'scale-125 text-yellow-400': i <= valoracionForm.value.nota,
              'text-gray-400': i > valoracionForm.value.nota,
            }"
          >
            <i class="fas fa-star"></i>
          </button>
        </ng-container>
      </div>
      <div
        *ngIf="
          valoracionForm.get('nota')?.invalid &&
          valoracionForm.get('nota')?.touched
        "
        class="mt-2 text-center text-sm text-red-500"
      >
        Por favor selecciona una valoración entre 1 y 5.
      </div>
    </div>

    <div *ngIf="mensajeError" class="mb-4 text-center text-red-600">
      {{ mensajeError }}
    </div>

    <div class="text-center">
      <button
        type="submit"
        [disabled]="valoracionForm.invalid"
        class="rounded-md bg-blue-600 px-6 py-2 text-white transition duration-200 hover:bg-blue-700 disabled:cursor-not-allowed disabled:opacity-50"
      >
        Enviar
      </button>
    </div>
  </form>
</div>
