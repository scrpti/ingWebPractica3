<div class="container mx-auto mt-4">
  <h1 class="mb-4 text-2xl font-bold">Crear entrada</h1>
  <form [formGroup]="entradaForm" (ngSubmit)="crearEntrada()">
    <div class="mb-4">
      <label for="nombre" class="block text-gray-700">Nombre</label>
      <input
        type="text"
        id="nombre"
        class="mt-1 block w-full rounded-md border-gray-300 shadow-sm"
        formControlName="nombre"
      />
    </div>

    <app-new-version
      [version]="$any(entradaForm.get('version'))"
    ></app-new-version>

    <div class="relative mb-4">
      <button
        type="button"
        (click)="mostrarMapa = !mostrarMapa"
        (change)="toggleMapa()"
        class="flex w-full items-center justify-between rounded-md bg-gray-100 px-4 py-2 text-gray-700 shadow-sm hover:bg-gray-200"
      >
        <span>Mapa</span>
        <svg
          xmlns="http://www.w3.org/2000/svg"
          class="h-5 w-5 transition-transform"
          [class.rotate-180]="mostrarMapa"
          fill="none"
          viewBox="0 0 24 24"
          stroke="currentColor"
        >
          <path
            stroke-linecap="round"
            stroke-linejoin="round"
            stroke-width="2"
            d="M19 9l-7 7-7-7"
          />
        </svg>
      </button>

      <div
        *ngIf="mostrarMapa"
        class="mt-2 rounded-md border border-gray-300 bg-white p-4 shadow-md"
      >
        <app-mapas
          [ubicacion]="$any(entradaForm.get('mapa.ubicacion'))"
          [mostrarBusqueda]="true"
        ></app-mapas>
      </div>
    </div>

    <div class="mb-4">
      <button
        type="submit"
        [disabled]="!entradaForm.valid"
        class="rounded bg-blue-500 px-4 py-2 font-bold text-white hover:bg-blue-600"
      >
        Crear
      </button>
    </div>
  </form>
</div>

<app-boton-atras ruta="/wiki/{{ idWiki }}"></app-boton-atras>
